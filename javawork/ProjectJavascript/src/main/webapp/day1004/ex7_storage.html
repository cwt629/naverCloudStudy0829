<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>7. Storage</title>
	<link
		href="https://fonts.googleapis.com/css2?family=Gamja+Flower&family=Jua&family=Lobster&family=Nanum+Pen+Script&family=Permanent+Marker&family=Single+Day&display=swap"
		rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
	<style>
		body * {
			font-family: 'Jua';
		}
	</style>
	<script>
		window.onload = function () {

		}
	</script>
</head>

<body>
	<h4 class="alert alert-danger">Local Storage 공부</h4>
	<br>
	<button type="button" id="btn1" class="btn btn-success">저장</button>
	<button type="button" id="btn2" class="btn btn-success">삭제</button>
	<button type="button" id="btn3" class="btn btn-success">전체삭제</button>
	<button type="button" id="btn4" class="btn btn-success">내용보기</button>
	<br><br>
	<div id="view"></div>
	<script>
		// 저장
		document.getElementById("btn1").onclick = function () {
			// 로컬 스토리지에 저장하는 방법(키-값 쌍으로 저장)

			// 방법 1 (ex. key: myid / value: "bitcamp") - 보통 많이 쓴다고..
			localStorage.myid = "bitcamp";

			// 방법 2
			localStorage.setItem("name", "이미자");

			// 방법 3
			localStorage["addr"] = "강남구 역삼동";

			// 세션 스토리지에도 저장해보자(1, 2, 3번 방법 모두 가능)
			/*
			로컬 스토리지는 브라우저 자체에 저장된 것으로
			직접 지우거나 초기화하지 않는 이상 지워지지 않는다. (영구적)
			
			그러나 세션 스토리지는 한번 서버 페이지를 닫는 순간 지워진다.
			*/
			sessionStorage.age = "30세"; // 브라우저 닫는 순간 지워짐
		}

		// 삭제
		document.getElementById("btn2").onclick = function () {
			// 기본값: myid
			let a = prompt("삭제할 키값을 입력하세요", "myid");
			// 삭제
			localStorage.removeItem(a);
		}

		// 전체 지우기
		document.getElementById("btn3").onclick = function () {
			localStorage.clear();
		}

		// 내용 보기
		document.getElementById("btn4").onclick = function () {
			let s =
				`
				myid: ${localStorage.myid}<br>
				name: ${localStorage.name}<br>
				addr: ${localStorage.addr}<br>
			`;


			document.getElementById("view").innerHTML = s;
		}
	</script>
</body>

</html>